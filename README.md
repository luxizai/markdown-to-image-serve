# Markdown To Image Serve

[![license](https://img.shields.io/badge/license-MIT-blue.svg)](./LICENSE)
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](#contributing)
[![Node Version](https://img.shields.io/node/v/next.svg)](https://nodejs.org)
[![Issues](https://img.shields.io/github/issues/wxingheng/markdown-to-image-serve.svg)](https://github.com/wxingheng/markdown-to-image-serve/issues)

<div align="center">

<h4>ğŸš€ åŸºäº Next.js å’Œ Puppeteer çš„ Markdown è½¬å›¾ç‰‡æœåŠ¡</h4>
<p>å°† Markdown å†…å®¹é«˜æ•ˆè½¬æ¢ä¸ºç²¾ç¾å›¾ç‰‡ï¼Œæä¾›å¼€ç®±å³ç”¨çš„ API æ¥å£ï¼Œæ”¯æŒ Docker å¿«é€Ÿéƒ¨ç½²ä¸äºŒæ¬¡å¼€å‘ã€‚</p>
ç®€ä½“ä¸­æ–‡ | [English](./README_EN.md)

</div>

---

## ğŸ’¡ ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬ï¼Ÿ

### ğŸ¯ è§£å†³æ ¸å¿ƒé—®é¢˜
- **ç®€åŒ–å†…å®¹åˆ›ä½œ**: æ— éœ€è®¾è®¡å·¥å…·ï¼Œç›´æ¥å†™ Markdown å³å¯ç”Ÿæˆç²¾ç¾å›¾ç‰‡
- **æé«˜ä¼ æ’­æ•ˆç‡**: å›¾ç‰‡æ¯”æ–‡å­—æ›´å®¹æ˜“åœ¨ç¤¾äº¤åª’ä½“ä¼ æ’­
- **é™ä½æŠ€æœ¯é—¨æ§›**: æä¾›å¼€ç®±å³ç”¨çš„ API æœåŠ¡ï¼Œæ— éœ€å¤æ‚é…ç½®
- **æ”¯æŒæ‰¹é‡ç”Ÿæˆ**: å¯ä»¥å¿«é€Ÿç”Ÿæˆå¤§é‡å›¾ç‰‡å†…å®¹

### ğŸš€ æ ¸å¿ƒä»·å€¼
- **èŠ‚çœæ—¶é—´**: ä»æ–‡å­—åˆ°å›¾ç‰‡ï¼Œåªéœ€å‡ ç§’é’Ÿ
- **æå‡æ•ˆç‡**: è‡ªåŠ¨åŒ–å›¾ç‰‡ç”Ÿæˆï¼Œå‡å°‘é‡å¤å·¥ä½œ
- **å¢å¼ºä¼ æ’­**: å›¾ç‰‡å†…å®¹æ›´å®¹æ˜“è·å¾—å…³æ³¨å’Œè½¬å‘
- **é™ä½æˆæœ¬**: æ— éœ€ä¸“ä¸šè®¾è®¡å¸ˆï¼Œé™ä½å†…å®¹åˆ›ä½œæˆæœ¬

---

## ğŸ¯ é¡¹ç›®ç®€ä»‹

**Markdown To Image Serve** æ˜¯ä¸€æ¬¾å¼€ç®±å³ç”¨çš„ Markdown è½¬å›¾ç‰‡ API æœåŠ¡ï¼ŒåŸºäº Next.js 14 å’Œ Puppeteer æ„å»ºï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹æ€§ï¼š

### âœ¨ æ ¸å¿ƒä¼˜åŠ¿
- ğŸš€ **ä¸€é”®éƒ¨ç½²** - æ”¯æŒ Docker Compose å¿«é€Ÿéƒ¨ç½²
- ğŸ”„ **RESTful API** - ç®€æ´æ˜“ç”¨çš„ API æ¥å£
- ğŸ¨ **å¤šä¸»é¢˜æ”¯æŒ** - å†…ç½® 9 ç§ç²¾ç¾ä¸»é¢˜
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- ğŸŒ **å¤šå¹³å°å…¼å®¹** - æ”¯æŒ Dockerã€Railwayã€Render ç­‰å¹³å°
- ğŸ”’ **å®‰å…¨é˜²æŠ¤** - æœ€æ–°å®‰å…¨è¡¥ä¸å’Œé˜²æŠ¤æœºåˆ¶
- âš¡ **æ€§èƒ½ä¼˜åŒ–** - å›¾ç‰‡å‹ç¼©ã€ç¼“å­˜ä¼˜åŒ–

### ğŸ› ï¸ æŠ€æœ¯æ ˆ
- **å‰ç«¯**: Next.js 14, React 18, TypeScript
- **UIç»„ä»¶**: Radix UI, Tailwind CSS
- **Markdown**: markdown-to-poster, react-md-editor
- **æµè§ˆå™¨**: Puppeteer Core, Chromium
- **éƒ¨ç½²**: Docker, Railway, Render, Fly.io

---

## ğŸ¯ åº”ç”¨åœºæ™¯

### ğŸ“± ç¤¾äº¤åª’ä½“è¥é”€
- **æœ‹å‹åœˆæµ·æŠ¥**: å°†äº§å“ä»‹ç»ã€æ´»åŠ¨å®£ä¼ è½¬æ¢ä¸ºç²¾ç¾å›¾ç‰‡
- **å¾®åšé…å›¾**: å°†é•¿æ–‡æœ¬å†…å®¹è½¬æ¢ä¸ºè§†è§‰åŒ–çš„å›¾ç‰‡
- **å°çº¢ä¹¦ç¬”è®°**: å°†æ•™ç¨‹ã€æ”»ç•¥è½¬æ¢ä¸ºå›¾ç‰‡æ ¼å¼
- **æŠ–éŸ³å°é¢**: ä¸ºè§†é¢‘ç”Ÿæˆå¸å¼•äººçš„å°é¢å›¾

> ğŸ’¡ **å®é™…æ•ˆæœ**: ç”Ÿæˆçš„æµ·æŠ¥å¯ä»¥ç›´æ¥ç”¨äºæœ‹å‹åœˆã€å¾®åšç­‰ç¤¾äº¤å¹³å°ï¼Œæé«˜å†…å®¹ä¼ æ’­æ•ˆæœ

### âœï¸ å†…å®¹åˆ›ä½œå¹³å°
- **åšå®¢é…å›¾**: ä¸ºæ–‡ç« ç”Ÿæˆæ‘˜è¦å›¾ç‰‡
- **æŠ€æœ¯æ–‡æ¡£**: å°†ä»£ç è¯´æ˜è½¬æ¢ä¸ºå›¾ç‰‡
- **æ•™ç¨‹åˆ¶ä½œ**: å°†æ­¥éª¤è¯´æ˜è½¬æ¢ä¸ºå›¾æ–‡æ•™ç¨‹
- **çŸ¥è¯†åˆ†äº«**: å°†çŸ¥è¯†ç‚¹è½¬æ¢ä¸ºè®°å¿†å¡ç‰‡

> ğŸ’¡ **å®é™…æ•ˆæœ**: æŠ€æœ¯åšä¸»å¯ä»¥å¿«é€Ÿç”Ÿæˆæ•™ç¨‹é…å›¾ï¼Œæé«˜æ–‡ç« çš„ä¸“ä¸šæ€§å’Œå¯è¯»æ€§

### ğŸ¢ ä¼ä¸šåº”ç”¨
- **äº§å“å®£ä¼ **: å°†äº§å“ç‰¹æ€§è½¬æ¢ä¸ºå®£ä¼ æµ·æŠ¥
- **æ´»åŠ¨æ¨å¹¿**: ç”Ÿæˆæ´»åŠ¨æµ·æŠ¥å’Œé‚€è¯·å‡½
- **å†…éƒ¨é€šçŸ¥**: å°†å…¬å¸é€šçŸ¥è½¬æ¢ä¸ºå›¾ç‰‡æ ¼å¼
- **åŸ¹è®­ææ–™**: å°†åŸ¹è®­å†…å®¹è½¬æ¢ä¸ºå›¾ç‰‡æ•™æ

> ğŸ’¡ **å®é™…æ•ˆæœ**: ä¼ä¸šå¯ä»¥å¿«é€Ÿç”Ÿæˆç»Ÿä¸€é£æ ¼çš„äº§å“å®£ä¼ å’Œæ´»åŠ¨æµ·æŠ¥

### ğŸ“° æ–°é—»åª’ä½“
- **æ–°é—»æ‘˜è¦**: å°†æ–°é—»å†…å®¹è½¬æ¢ä¸ºå›¾ç‰‡æ‘˜è¦
- **æ•°æ®å¯è§†åŒ–**: å°†æ•°æ®æŠ¥å‘Šè½¬æ¢ä¸ºå›¾è¡¨
- **ä¸“é¢˜æŠ¥é“**: å°†æ·±åº¦æŠ¥é“è½¬æ¢ä¸ºå›¾ç‰‡
- **å¿«è®¯å‘å¸ƒ**: å°†çªå‘æ–°é—»è½¬æ¢ä¸ºå›¾ç‰‡

> ğŸ’¡ **å®é™…æ•ˆæœ**: æ–°é—»æœºæ„å¯ä»¥å¿«é€Ÿç”Ÿæˆæ–°é—»æµ·æŠ¥ï¼Œæé«˜æ–°é—»ä¼ æ’­æ•ˆç‡

### ğŸ“ æ•™è‚²åŸ¹è®­
- **è¯¾ç¨‹æµ·æŠ¥**: ä¸ºåœ¨çº¿è¯¾ç¨‹ç”Ÿæˆå®£ä¼ å›¾
- **å­¦ä¹ å¡ç‰‡**: å°†çŸ¥è¯†ç‚¹è½¬æ¢ä¸ºè®°å¿†å¡ç‰‡
- **æ•™å­¦ææ–™**: å°†æ•™å­¦å†…å®¹è½¬æ¢ä¸ºå›¾ç‰‡
- **è€ƒè¯•å¤ä¹ **: å°†é‡ç‚¹å†…å®¹è½¬æ¢ä¸ºå¤ä¹ å¡ç‰‡

> ğŸ’¡ **å®é™…æ•ˆæœ**: æ•™è‚²æœºæ„å¯ä»¥å¿«é€Ÿç”Ÿæˆè¯¾ç¨‹å®£ä¼ ææ–™ï¼Œæé«˜æ‹›ç”Ÿæ•ˆæœ

### ğŸ›’ ç”µå•†åº”ç”¨
- **å•†å“ä»‹ç»**: å°†å•†å“è¯¦æƒ…è½¬æ¢ä¸ºå›¾ç‰‡
- **ä¿ƒé”€æµ·æŠ¥**: ç”Ÿæˆä¿ƒé”€æ´»åŠ¨æµ·æŠ¥
- **äº§å“å¯¹æ¯”**: å°†äº§å“å¯¹æ¯”è½¬æ¢ä¸ºå›¾ç‰‡
- **ç”¨æˆ·è¯„ä»·**: å°†ç”¨æˆ·è¯„ä»·è½¬æ¢ä¸ºå›¾ç‰‡å±•ç¤º

> ğŸ’¡ **å®é™…æ•ˆæœ**: ç”µå•†å¹³å°å¯ä»¥å¿«é€Ÿç”Ÿæˆå•†å“å®£ä¼ å›¾ï¼Œæé«˜è½¬åŒ–ç‡

### ğŸ‘¤ ä¸ªäººå“ç‰Œ
- **ä¸ªäººä»‹ç»**: å°†ä¸ªäººç®€ä»‹è½¬æ¢ä¸ºåç‰‡
- **æŠ€èƒ½å±•ç¤º**: å°†æŠ€èƒ½åˆ—è¡¨è½¬æ¢ä¸ºå›¾ç‰‡
- **ä½œå“é›†**: å°†ä½œå“ä»‹ç»è½¬æ¢ä¸ºå›¾ç‰‡
- **ä¸ªäººç­¾å**: ç”Ÿæˆä¸ªæ€§åŒ–çš„ç­¾åå›¾ç‰‡

> ğŸ’¡ **å®é™…æ•ˆæœ**: ä¸ªäººå¯ä»¥å¿«é€Ÿç”Ÿæˆä¸“ä¸šçš„åç‰‡å’Œä»‹ç»å›¾ç‰‡

### ğŸ”§ æŠ€æœ¯åº”ç”¨
- **API é›†æˆ**: å…¶ä»–åº”ç”¨å¯ä»¥è°ƒç”¨ API ç”Ÿæˆå›¾ç‰‡
- **è‡ªåŠ¨åŒ–å·¥å…·**: æ‰¹é‡ç”Ÿæˆå›¾ç‰‡å†…å®¹
- **å†…å®¹ç®¡ç†ç³»ç»Ÿ**: ä¸º CMS æä¾›å›¾ç‰‡ç”ŸæˆåŠŸèƒ½
- **èŠå¤©æœºå™¨äºº**: ä¸ºæœºå™¨äººæä¾›å›¾ç‰‡ç”Ÿæˆèƒ½åŠ›

> ğŸ’¡ **å®é™…æ•ˆæœ**: å¼€å‘è€…å¯ä»¥è½»æ¾é›†æˆå›¾ç‰‡ç”ŸæˆåŠŸèƒ½åˆ°è‡ªå·±çš„åº”ç”¨ä¸­

---

## ğŸ–¼ï¸ æ•ˆæœå±•ç¤º

### ğŸ“± ç¤¾äº¤åª’ä½“è¥é”€æ¡ˆä¾‹

<div align="center">
  <img src="https://github.com/user-attachments/assets/a0e641b8-9369-4cc6-b602-256f26089777" width="32%" alt="ç¤ºä¾‹1" />
  <img src="https://github.com/user-attachments/assets/d67f3b84-0a1a-4b60-853b-fcf13d313d0e" width="32%" alt="ç¤ºä¾‹2" />
  <img src="https://github.com/user-attachments/assets/e5e4ac59-a607-42d7-9d47-180eb7fe2268" width="32%" alt="ç¤ºä¾‹3" />
</div>


<div align="center">
  <img src="./example/output/poster-1754647673038.png" width="32%" alt="AIæ™¨æŠ¥æ¡ˆä¾‹" />
  <img src="./example/output/poster-1754641688124.png" width="32%" alt="JavaScriptè¯¾ç¨‹æ¡ˆä¾‹" />
  <img src="./example/output/poster-1754647978853.png" width="32%" alt="AIæ™¨æŠ¥æ¡ˆä¾‹" />
</div>



> **ğŸ’¡ æç¤º**: ä»¥ä¸Šæ‰€æœ‰å›¾ç‰‡éƒ½æ˜¯é€šè¿‡ Markdown æ–‡æœ¬è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå±•ç¤ºäº†ä¸åŒä¸»é¢˜å’Œåœºæ™¯çš„åº”ç”¨æ•ˆæœã€‚

---

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½
  <img src="./example/output/poster-1754647636838.png" width="32%" alt="ä¼ä¸šå®£ä¼ æ¡ˆä¾‹" />

### ğŸ“ å†…å®¹è½¬æ¢
- Markdown æ–‡æœ¬ä¸€é”®è½¬å›¾ç‰‡
- æ”¯æŒä»£ç é«˜äº®å’Œè¯­æ³•é«˜äº®
- è¡¨æ ¼æ¸²æŸ“å’Œæ•°å­¦å…¬å¼æ”¯æŒ
- å›¾ç‰‡å’Œé“¾æ¥å¤„ç†

### ğŸ¨ æ ·å¼å®šåˆ¶
- **9ç§å†…ç½®ä¸»é¢˜**: blue, pink, purple, green, yellow, gray, red, indigo, SpringGradientWave
- è‡ªå®šä¹‰é¡µçœ‰é¡µè„š
- Logo å’Œå“ç‰Œå…ƒç´ 
- å“åº”å¼å¸ƒå±€é€‚é…

### ğŸ”§ å¼€å‘å·¥å…·
- å®æ—¶é¢„è§ˆç¼–è¾‘å™¨
- ä¸»é¢˜åˆ‡æ¢å’Œå‚æ•°è°ƒæ•´
- ä¸€é”®å¤åˆ¶å›¾ç‰‡åŠŸèƒ½
- æ‰¹é‡å¤„ç†æ”¯æŒ

### ğŸ“¦ API æœåŠ¡
- RESTful API æ¥å£
- å›¾ç‰‡ç”Ÿæˆå’Œå­˜å‚¨
- é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- å¥åº·æ£€æŸ¥æœºåˆ¶

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸŒ åœ¨çº¿ä½“éªŒ

- [åœ¨çº¿æœåŠ¡ï¼ˆVercelï¼‰](https://markdown-to-image-serve.jcommon.top)
- [GitHub ä»“åº“](https://github.com/wxingheng/markdown-to-image-serve)

### ğŸ’» æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/wxingheng/markdown-to-image-serve.git
   cd markdown-to-image-serve
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   yarn install
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**  
   æ–°å»º `.env` æ–‡ä»¶ï¼š
   ```env
   NEXT_PUBLIC_BASE_URL=http://localhost:3000
   CHROME_PATH=/path/to/your/chrome  # Chrome æµè§ˆå™¨è·¯å¾„
   ```

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   yarn dev
   ```

5. **è®¿é—®åº”ç”¨**
   æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`

#### ğŸ”§ Chrome è·¯å¾„é…ç½®

**macOS**:
```bash
ls -l /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome
```

**Linux**:
```bash
which google-chrome
# æˆ–
which chromium
```

**Windows**:
```powershell
Get-Command chrome | Select-Object -ExpandProperty Definition
# æˆ–åœ¨ chrome://version/ æŸ¥çœ‹"å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„"
```

---

### ğŸ³ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### ä½¿ç”¨ Docker Composeï¼ˆæœ€ç®€å•ï¼‰

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/wxingheng/markdown-to-image-serve.git
cd markdown-to-image-serve

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# è®¿é—®æœåŠ¡
open http://localhost:3000
```

#### ç›´æ¥ä½¿ç”¨ Docker

```bash
# æ‹‰å–é•œåƒ
docker pull wxingheng/markdown-to-image-serve:0.0.6

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 wxingheng/markdown-to-image-serve:0.0.6
```

#### è‡ªè¡Œæ„å»º

```bash
# æ„å»ºé•œåƒ
docker build -f Dockerfile -t markdown-to-image-serve .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 markdown-to-image-serve
```

> **ğŸ’¡ æç¤º**: å¦‚æœ Docker æ„å»ºé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥å°è¯•ï¼š
> ```bash
> export DOCKER_BUILDKIT=0
> export COMPOSE_DOCKER_CLI_BUILD=0
> ```

#### ğŸ”§ Docker è®¾ç½®å¸®åŠ©

å¦‚æœé‡åˆ° Docker Hub æ¨é€æƒé™é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š[Docker è®¾ç½®æŒ‡å—](./DOCKER_SETUP.md)

---

### â˜ï¸ äº‘å¹³å°éƒ¨ç½²

ç”±äºé¡¹ç›®ä½¿ç”¨äº† Puppeteerï¼Œæ¨èä½¿ç”¨ä»¥ä¸‹æ”¯æŒ Docker çš„å¹³å°ï¼š

#### ğŸ† Railway (æœ€æ¨è)
- **å…è´¹é¢åº¦**: æ¯æœˆ $5
- **ä¼˜åŠ¿**: åŸç”Ÿ Docker æ”¯æŒï¼Œç®€å•æ˜“ç”¨
- **éƒ¨ç½²**: è¿æ¥ GitHub ä»“åº“è‡ªåŠ¨éƒ¨ç½²

#### ğŸŒ Render
- **å…è´¹é¢åº¦**: å…è´¹ Web æœåŠ¡
- **ä¼˜åŠ¿**: ç®€å•é…ç½®ï¼Œè‡ªåŠ¨ HTTPS
- **é™åˆ¶**: å…è´¹ç‰ˆæœ‰ä¼‘çœ æœºåˆ¶

#### ğŸš€ Fly.io
- **å…è´¹é¢åº¦**: 3ä¸ªå…è´¹åº”ç”¨
- **ä¼˜åŠ¿**: å…¨çƒè¾¹ç¼˜éƒ¨ç½²ï¼Œæ€§èƒ½ä¼˜ç§€

#### â˜ï¸ Google Cloud Run
- **å…è´¹é¢åº¦**: æ¯æœˆ 200ä¸‡è¯·æ±‚
- **ä¼˜åŠ¿**: ä¼ä¸šçº§ç¨³å®šæ€§

è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·å‚è€ƒï¼š[éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md)

---

## ğŸ“š API æ–‡æ¡£

### 1. ç”Ÿæˆæµ·æŠ¥å›¾ç‰‡

**æ¥å£**: `POST /api/generatePosterImage`

**è¯·æ±‚å‚æ•°**:

```json
{
  "markdown": "string",       // å¿…éœ€ï¼šMarkdown å†…å®¹
  "header": "string",         // å¯é€‰ï¼šé¡µçœ‰æ–‡æœ¬
  "footer": "string",         // å¯é€‰ï¼šé¡µè„šæ–‡æœ¬
  "logo": "string",           // å¯é€‰ï¼šlogoå›¾ç‰‡URL
  "theme": "string"           // å¯é€‰ï¼šä¸»é¢˜åç§°
}
```

**æ”¯æŒçš„ä¸»é¢˜**:
- `blue`, `pink`, `purple`, `green`, `yellow`, `gray`, `red`, `indigo`
- `SpringGradientWave` (é»˜è®¤)

#### ğŸ“± ç¤¾äº¤åª’ä½“è¥é”€ç¤ºä¾‹

```bash
curl -X POST 'http://localhost:3000/api/generatePosterImage' \
  -H 'Content-Type: application/json' \
  -d '{
    "markdown": "# ğŸ‰ é™æ—¶ä¼˜æƒ \n\n## å…¨åœºå•†å“ 8 æŠ˜\n\n### æ´»åŠ¨æ—¶é—´\n- å¼€å§‹ï¼š2024å¹´1æœˆ1æ—¥\n- ç»“æŸï¼š2024å¹´1æœˆ31æ—¥\n\n### å‚ä¸å•†å“\n- æ•°ç äº§å“\n- æœè£…é…é¥°\n- å®¶å±…ç”¨å“\n\n**ç«‹å³æŠ¢è´­ï¼Œå…ˆåˆ°å…ˆå¾—ï¼**",
    "header": "å¹´ç»ˆå¤§ä¿ƒ",
    "footer": "å…³æ³¨æˆ‘ä»¬è·å–æ›´å¤šä¼˜æƒ ",
    "theme": "SpringGradientWave"
  }'
```

> ğŸ’¡ **ç”Ÿæˆæ•ˆæœ**: åˆ›å»ºå¸å¼•äººçš„ä¿ƒé”€æµ·æŠ¥ï¼Œé€‚åˆåœ¨æœ‹å‹åœˆã€å¾®åšç­‰å¹³å°ä¼ æ’­

#### ğŸ“° æ–°é—»æ‘˜è¦ç¤ºä¾‹

```bash
curl -X POST 'http://localhost:3000/api/generatePosterImage' \
  -H 'Content-Type: application/json' \
  -d '{
    "markdown": "# ç§‘æŠ€å¿«æŠ¥\n\n## äººå·¥æ™ºèƒ½æŠ€æœ¯çªç ´\n\n**å‘å¸ƒæ—¶é—´**: 2024å¹´1æœˆ15æ—¥\n\n### ä¸»è¦è¿›å±•\n- è‡ªç„¶è¯­è¨€å¤„ç†èƒ½åŠ›æå‡ 30%\n- å›¾åƒè¯†åˆ«å‡†ç¡®ç‡è¾¾åˆ° 99.5%\n- å¤šæ¨¡æ€ AI æ¨¡å‹æ­£å¼å‘å¸ƒ\n\n### å½±å“åˆ†æ\nè¿™ä¸€çªç ´å°†æ¨åŠ¨å¤šä¸ªè¡Œä¸šçš„æŠ€æœ¯é©æ–°ï¼ŒåŒ…æ‹¬åŒ»ç–—ã€æ•™è‚²ã€é‡‘èç­‰é¢†åŸŸã€‚\n\n**æ¥æº**: ç§‘æŠ€æ—¥æŠ¥",
    "header": "ä»Šæ—¥è¦é—»",
    "footer": "æ›´å¤šèµ„è®¯è¯·è®¿é—®æˆ‘ä»¬çš„å®˜ç½‘",
    "theme": "blue"
  }'
```

> ğŸ’¡ **ç”Ÿæˆæ•ˆæœ**: å¿«é€Ÿç”Ÿæˆä¸“ä¸šçš„æ–°é—»æ‘˜è¦æµ·æŠ¥ï¼Œæé«˜æ–°é—»ä¼ æ’­æ•ˆç‡

#### ğŸ“ æ•™è‚²åŸ¹è®­ç¤ºä¾‹

```bash
curl -X POST 'http://localhost:3000/api/generatePosterImage' \
  -H 'Content-Type: application/json' \
  -d '{
    "markdown": "# JavaScript è¿›é˜¶è¯¾ç¨‹\n\n## è¯¾ç¨‹å¤§çº²\n\n### ç¬¬ä¸€éƒ¨åˆ†ï¼šES6+ æ–°ç‰¹æ€§\n- ç®­å¤´å‡½æ•°\n- è§£æ„èµ‹å€¼\n- Promise å’Œ async/await\n\n### ç¬¬äºŒéƒ¨åˆ†ï¼šç°ä»£æ¡†æ¶\n- React Hooks\n- Vue 3 Composition API\n- TypeScript åŸºç¡€\n\n### ç¬¬ä¸‰éƒ¨åˆ†ï¼šå·¥ç¨‹åŒ–\n- Webpack é…ç½®\n- Git å·¥ä½œæµ\n- å•å…ƒæµ‹è¯•\n\n**è¯¾ç¨‹æ—¶é•¿**: 20 å°æ—¶\n**é€‚åˆäººç¾¤**: æœ‰ JavaScript åŸºç¡€çš„å¼€å‘è€…",
    "header": "å‰ç«¯å¼€å‘è¯¾ç¨‹",
    "footer": "æ‰«ç æŠ¥åï¼Œé™æ—¶ä¼˜æƒ ",
    "theme": "purple"
  }'
```

> ğŸ’¡ **ç”Ÿæˆæ•ˆæœ**: ä¸ºåœ¨çº¿è¯¾ç¨‹åˆ›å»ºä¸“ä¸šçš„å®£ä¼ æµ·æŠ¥ï¼Œæé«˜æ‹›ç”Ÿæ•ˆæœ

#### ğŸ¢ ä¼ä¸šå®£ä¼ ç¤ºä¾‹

```bash
curl -X POST 'http://localhost:3000/api/generatePosterImage' \
  -H 'Content-Type: application/json' \
  -d '{
    "markdown": "# å…¬å¸ç®€ä»‹\n\n## å…³äºæˆ‘ä»¬\n\næˆ‘ä»¬æ˜¯ä¸€å®¶ä¸“æ³¨äºæ•°å­—åŒ–è½¬å‹çš„ç§‘æŠ€å…¬å¸ï¼Œè‡´åŠ›äºä¸ºå®¢æˆ·æä¾›æœ€å‰æ²¿çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆã€‚\n\n### æ ¸å¿ƒä¸šåŠ¡\n- **è½¯ä»¶å¼€å‘**: å®šåˆ¶åŒ–ä¼ä¸šçº§åº”ç”¨\n- **æ•°æ®åˆ†æ**: å•†ä¸šæ™ºèƒ½è§£å†³æ–¹æ¡ˆ\n- **äº‘æœåŠ¡**: äº‘è®¡ç®—æ¶æ„è®¾è®¡\n- **AI åº”ç”¨**: äººå·¥æ™ºèƒ½æŠ€æœ¯é›†æˆ\n\n### æœåŠ¡ä¼˜åŠ¿\nâœ… 10å¹´+ è¡Œä¸šç»éªŒ\nâœ… 500+ æˆåŠŸæ¡ˆä¾‹\nâœ… 24/7 æŠ€æœ¯æ”¯æŒ\nâœ… å…è´¹æŠ€æœ¯å’¨è¯¢\n\n**è”ç³»æˆ‘ä»¬**: contact@company.com",
    "header": "æ•°å­—åŒ–è½¬å‹ä¸“å®¶",
    "footer": "è®©æŠ€æœ¯é©±åŠ¨ä¸šåŠ¡å¢é•¿",
    "theme": "green"
  }'
```

> ğŸ’¡ **ç”Ÿæˆæ•ˆæœ**: å¿«é€Ÿç”Ÿæˆä¼ä¸šå®£ä¼ ææ–™ï¼Œæå‡å“ç‰Œä¸“ä¸šå½¢è±¡

**å“åº”ç¤ºä¾‹**:

```json
{
  "url": "http://localhost:3000/api/images/poster-1234567890-abc123def.png"
}
```

### 2. è·å–å›¾ç‰‡

**æ¥å£**: `GET /api/images/[filename]`

**è¯´æ˜**: è·å–ç”Ÿæˆçš„å›¾ç‰‡æ–‡ä»¶

### 3. å¥åº·æ£€æŸ¥

**æ¥å£**: `GET /api/hello`

**è¯´æ˜**: æœåŠ¡å¥åº·çŠ¶æ€æ£€æŸ¥

---

## ğŸ› ï¸ å¼€å‘å·¥å…·

```bash
# ä»£ç æ£€æŸ¥
yarn lint

# è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
yarn lint:fix

# ç±»å‹æ£€æŸ¥
yarn type-check

# æ„å»ºé¡¹ç›®
yarn build

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
yarn dev
```

---

## ğŸš€ å¿«é€Ÿä¸Šæ‰‹

### ğŸ“± ç¤¾äº¤åª’ä½“è¥é”€
```javascript
// ç”Ÿæˆæœ‹å‹åœˆæµ·æŠ¥
const response = await fetch('/api/generatePosterImage', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    markdown: '# ğŸ‰ é™æ—¶ä¼˜æƒ \n\nå…¨åœºå•†å“ 8 æŠ˜\n\n**ç«‹å³æŠ¢è´­ï¼**',
    header: 'å¹´ç»ˆå¤§ä¿ƒ',
    footer: 'å…³æ³¨æˆ‘ä»¬è·å–æ›´å¤šä¼˜æƒ ',
    theme: 'SpringGradientWave'
  })
});
```

> ğŸ’¡ **æ•ˆæœ**: ç”Ÿæˆçš„æµ·æŠ¥å¯ä»¥ç›´æ¥ç”¨äºæœ‹å‹åœˆã€å¾®åšç­‰ç¤¾äº¤å¹³å°

### ğŸ“° æ–°é—»æ‘˜è¦ç”Ÿæˆ
```javascript
// ç”Ÿæˆæ–°é—»æµ·æŠ¥
const newsPoster = await fetch('/api/generatePosterImage', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    markdown: '# ç§‘æŠ€å¿«æŠ¥\n\n## AI æŠ€æœ¯çªç ´\n\n**å‘å¸ƒæ—¶é—´**: 2024å¹´1æœˆ15æ—¥\n\n### ä¸»è¦è¿›å±•\n- è‡ªç„¶è¯­è¨€å¤„ç†èƒ½åŠ›æå‡ 30%\n- å›¾åƒè¯†åˆ«å‡†ç¡®ç‡è¾¾åˆ° 99.5%',
    header: 'ä»Šæ—¥è¦é—»',
    theme: 'blue'
  })
});
```

> ğŸ’¡ **æ•ˆæœ**: å¿«é€Ÿç”Ÿæˆæ–°é—»æ‘˜è¦æµ·æŠ¥ï¼Œæé«˜æ–°é—»ä¼ æ’­æ•ˆç‡

### ğŸ“ æ•™è‚²åŸ¹è®­ææ–™
```javascript
// ç”Ÿæˆè¯¾ç¨‹æµ·æŠ¥
const coursePoster = await fetch('/api/generatePosterImage', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    markdown: '# JavaScript è¿›é˜¶è¯¾ç¨‹\n\n## è¯¾ç¨‹å¤§çº²\n\n### ç¬¬ä¸€éƒ¨åˆ†ï¼šES6+ æ–°ç‰¹æ€§\n- ç®­å¤´å‡½æ•°\n- è§£æ„èµ‹å€¼\n- Promise å’Œ async/await',
    header: 'å‰ç«¯å¼€å‘è¯¾ç¨‹',
    footer: 'æ‰«ç æŠ¥åï¼Œé™æ—¶ä¼˜æƒ ',
    theme: 'purple'
  })
});
```

> ğŸ’¡ **æ•ˆæœ**: ä¸ºåœ¨çº¿è¯¾ç¨‹ç”Ÿæˆä¸“ä¸šçš„å®£ä¼ æµ·æŠ¥

### ğŸ¢ ä¼ä¸šå®£ä¼ æµ·æŠ¥
```javascript
// ç”Ÿæˆå…¬å¸ä»‹ç»æµ·æŠ¥
const companyPoster = await fetch('/api/generatePosterImage', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    markdown: '# å…¬å¸ç®€ä»‹\n\n## å…³äºæˆ‘ä»¬\n\næˆ‘ä»¬æ˜¯ä¸€å®¶ä¸“æ³¨äºæ•°å­—åŒ–è½¬å‹çš„ç§‘æŠ€å…¬å¸ã€‚\n\n### æ ¸å¿ƒä¸šåŠ¡\n- **è½¯ä»¶å¼€å‘**: å®šåˆ¶åŒ–ä¼ä¸šçº§åº”ç”¨\n- **æ•°æ®åˆ†æ**: å•†ä¸šæ™ºèƒ½è§£å†³æ–¹æ¡ˆ',
    header: 'æ•°å­—åŒ–è½¬å‹ä¸“å®¶',
    footer: 'è®©æŠ€æœ¯é©±åŠ¨ä¸šåŠ¡å¢é•¿',
    theme: 'green'
  })
});
```

> ğŸ’¡ **æ•ˆæœ**: å¿«é€Ÿç”Ÿæˆä¼ä¸šå®£ä¼ ææ–™ï¼Œæå‡å“ç‰Œå½¢è±¡

---

## âš¡ æŠ€æœ¯ä¼˜åŠ¿

### ğŸ”§ æ ¸å¿ƒæŠ€æœ¯
- **Next.js 14**: æœ€æ–°çš„ React æ¡†æ¶ï¼Œæä¾›ä¼˜ç§€çš„å¼€å‘ä½“éªŒ
- **Puppeteer**: å¼ºå¤§çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·ï¼Œç¡®ä¿å›¾ç‰‡æ¸²æŸ“è´¨é‡
- **TypeScript**: ç±»å‹å®‰å…¨ï¼Œæé«˜ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡
- **Tailwind CSS**: ç°ä»£åŒ–çš„ CSS æ¡†æ¶ï¼Œå¿«é€Ÿæ„å»ºç¾è§‚ç•Œé¢

### ğŸ¨ è®¾è®¡ç‰¹è‰²
- **9ç§ç²¾ç¾ä¸»é¢˜**: ä»ç®€çº¦åˆ°åä¸½ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚
- **å“åº”å¼è®¾è®¡**: é€‚é…å„ç§è®¾å¤‡å’Œå±å¹•å°ºå¯¸
- **ä¸­æ–‡å­—ä½“ä¼˜åŒ–**: å®Œç¾æ”¯æŒä¸­æ–‡å†…å®¹æ¸²æŸ“
- **è‡ªå®šä¹‰æ ·å¼**: æ”¯æŒé¡µçœ‰é¡µè„šã€Logo ç­‰ä¸ªæ€§åŒ–å…ƒç´ 

### ğŸš€ éƒ¨ç½²ä¼˜åŠ¿
- **Docker æ”¯æŒ**: ä¸€é”®éƒ¨ç½²ï¼Œç¯å¢ƒä¸€è‡´æ€§
- **å¤šå¹³å°å…¼å®¹**: Railwayã€Renderã€Fly.io ç­‰äº‘å¹³å°
- **API ä¼˜å…ˆ**: æä¾›ç®€æ´çš„ RESTful API æ¥å£
- **å¼€ç®±å³ç”¨**: æ— éœ€å¤æ‚é…ç½®ï¼Œå¿«é€Ÿä¸Šæ‰‹

### ğŸ“Š æ€§èƒ½ä¼˜åŒ–
- **å›¾ç‰‡å‹ç¼©**: è‡ªåŠ¨ä¼˜åŒ–å›¾ç‰‡å¤§å°å’Œè´¨é‡
- **ç¼“å­˜æœºåˆ¶**: æé«˜å“åº”é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒ
- **å¹¶å‘å¤„ç†**: æ”¯æŒå¤šç”¨æˆ·åŒæ—¶ä½¿ç”¨
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

---

## ğŸ“‹ é¡¹ç›®ç»“æ„

```
markdown-to-image-serve/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ docs/           # æ–‡æ¡£é¡µé¢
â”‚   â”‚   â”œâ”€â”€ globals.css     # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ layout.tsx      # æ ¹å¸ƒå±€
â”‚   â”‚   â””â”€â”€ page.tsx        # é¦–é¡µ
â”‚   â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/            # UI ç»„ä»¶åº“
â”‚   â”‚   â”œâ”€â”€ Editor.tsx     # ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.tsx     # å¤´éƒ¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ PosterView.tsx # æµ·æŠ¥é¢„è§ˆç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # Pages Router
â”‚   â”‚   â””â”€â”€ api/           # API è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ generatePosterImage.ts  # ç”Ÿæˆæµ·æŠ¥API
â”‚   â”‚       â””â”€â”€ images/    # å›¾ç‰‡æœåŠ¡API
â”‚   â””â”€â”€ lib/               # å·¥å…·å‡½æ•°
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”œâ”€â”€ docker-compose.yml     # Docker Compose é…ç½®
â”œâ”€â”€ Dockerfile            # Docker æ„å»ºæ–‡ä»¶
â”œâ”€â”€ railway.json          # Railway é…ç½®
â”œâ”€â”€ fly.toml             # Fly.io é…ç½®
â”œâ”€â”€ render.yaml           # Render é…ç½®
â””â”€â”€ package.json          # é¡¹ç›®é…ç½®
```

---

## ğŸ›  å¼€å‘è®¡åˆ’

### âœ… å·²å®Œæˆ
- [x] Docker éƒ¨ç½²æ”¯æŒ
- [x] è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½
- [x] å›¾ç‰‡å‹ç¼©ä¼˜åŒ–
- [x] æ‰¹é‡ç”ŸæˆåŠŸèƒ½
- [x] ä¸­æ–‡å­—ä½“ä¼˜åŒ–
- [x] è‡ªå®šä¹‰æ¨¡æ¿ç³»ç»Ÿ
- [x] API è®¿é—®æ§åˆ¶
- [x] å®‰å…¨æ€§ä¼˜åŒ–
- [x] æ€§èƒ½ä¼˜åŒ–
- [x] äº‘å¹³å°éƒ¨ç½²æ”¯æŒ

### ğŸš§ è¿›è¡Œä¸­
- [ ] æ›´å¤šä¸»é¢˜æ”¯æŒ
- [ ] æ‰¹é‡å¤„ç†ä¼˜åŒ–
- [ ] ç¼“å­˜æœºåˆ¶å®Œå–„

### ğŸ“… è®¡åˆ’ä¸­
- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] å›¾ç‰‡æ ¼å¼è½¬æ¢
- [ ] æ¨¡æ¿å¸‚åœº
- [ ] ç»Ÿè®¡åˆ†æ

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### å¦‚ä½•è´¡çŒ®

1. **Fork æœ¬ä»“åº“**
2. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**: `git checkout -b feature/AmazingFeature`
3. **æäº¤æ”¹åŠ¨**: `git commit -m 'Add some AmazingFeature'`
4. **æ¨é€åˆ†æ”¯**: `git push origin feature/AmazingFeature`
5. **æäº¤ Pull Request**

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/wxingheng/markdown-to-image-serve.git
cd markdown-to-image-serve

# å®‰è£…ä¾èµ–
yarn install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
yarn dev
```

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª ESLint è§„åˆ™
- æäº¤å‰è¿è¡Œ `yarn lint` å’Œ `yarn type-check`

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢ [markdown-to-image](https://github.com/gcui-art/markdown-to-image) é¡¹ç›®çš„å¯å‘
- æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…çš„æ”¯æŒ

å¦‚æœæœ¬é¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ â­ï¸ **Star** æ”¯æŒï¼

---

## ğŸ“ è”ç³»æˆ‘ä»¬

- **GitHub**: [wxingheng/markdown-to-image-serve](https://github.com/wxingheng/markdown-to-image-serve)
- **åœ¨çº¿æœåŠ¡**: [markdown-to-image-serve.jcommon.top](https://markdown-to-image-serve.jcommon.top)
- **JCommonå·¥åœº**: [jcommon.top](https://jcommon.top)